/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var Mustache=typeof module!=="undefined"&&module.exports||{};(function(e){e.name="mustache.js";e.version="0.5.0-dev";e.tags=["{{","}}"];e.parse=k;e.compile=y;e.render=S;e.clearCache=w;e.to_html=function(e,r,n,t){var a=S(e,r,n);if(typeof t==="function"){t(a)}else{return a}};var r=Object.prototype.toString;var n=Array.isArray;var t=Array.prototype.forEach;var a=String.prototype.trim;var f;if(n){f=n}else{f=function(e){return r.call(e)==="[object Array]"}}var l;if(t){l=function(e,r,n){return t.call(e,r,n)}}else{l=function(e,r,n){for(var t=0,a=e.length;t<a;++t){r.call(n,e[t],t,e)}}}var i=/^\s*$/;function u(e){return i.test(e)}var o;if(a){o=function(e){return e==null?"":a.call(e)}}else{var c,s;if(u("\xa0")){c=/^\s+/;s=/\s+$/}else{c=/^[\s\xA0]+/;s=/[\s\xA0]+$/}o=function(e){return e==null?"":String(e).replace(c,"").replace(s,"")}}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return p[e]||e})}function v(e,r,n,t){t=t||"<template>";var a=r.split("\n"),f=Math.max(n-3,0),l=Math.min(a.length,n+3),i=a.slice(f,l);var u;for(var o=0,c=i.length;o<c;++o){u=o+f+1;i[o]=(u===n?" >> ":"    ")+i[o]}e.template=r;e.line=n;e.file=t;e.message=[t+":"+n,i.join("\n"),"",e.message].join("\n");return e}function b(e,r,n){if(e==="."){return r[r.length-1]}var t=e.split(".");var a=t.length-1;var f=t[a];var l,i,u=r.length,o,c;while(u){c=r.slice(0);i=r[--u];o=0;while(o<a){i=i[t[o++]];if(i==null){break}c.push(i)}if(i&&typeof i==="object"&&f in i){l=i[f];break}}if(typeof l==="function"){l=l.call(c[c.length-1])}if(l==null){return n}return l}function g(e,r,n,t){var a="";var i=b(e,r);if(t){if(i==null||i===false||f(i)&&i.length===0){a+=n()}}else if(f(i)){l(i,function(e){r.push(e);a+=n();r.pop()})}else if(typeof i==="object"){r.push(i);a+=n();r.pop()}else if(typeof i==="function"){var u=r[r.length-1];var o=function(e){return S(e,u)};a+=i.call(u,n(),o)||""}else if(i){a+=n()}return a}function k(r,n){n=n||{};var t=n.tags||e.tags,a=t[0],f=t[t.length-1];var l=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'];var i=[],c=false,s=false;var p=function(){if(c&&!s&&!n.space){while(i.length){l.splice(i.pop(),1)}}else{i=[]}c=false;s=false};var h=[],b,g,k;var d=function(e){t=o(e).split(/\s+/);g=t[0];k=t[t.length-1]};var m=function(e){l.push('";',b,'\nvar partial = partials["'+o(e)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')};var w=function(e,t){var a=o(e);if(a===""){throw v(new Error("Section name may not be empty"),r,A,n.file)}h.push({name:a,inverted:t});l.push('";',b,'\nvar name = "'+a+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')};var y=function(e){w(e,true)};var S=function(e){var t=o(e);var a=h.length!=0&&h[h.length-1].name;if(!a||t!=a){throw v(new Error('Section named "'+t+'" was never opened'),r,A,n.file)}var f=h.pop();l.push('";',"\n    return buffer;","\n  };","\n})();");if(f.inverted){l.push("\nbuffer += renderSection(name,stack,callback,true);")}else{l.push("\nbuffer += renderSection(name,stack,callback);")}l.push('\nbuffer += "')};var j=function(e){l.push('";',b,'\nbuffer += lookup("'+o(e)+'",stack,"");','\nbuffer += "')};var x=function(e){l.push('";',b,'\nbuffer += escapeHTML(lookup("'+o(e)+'",stack,""));','\nbuffer += "')};var A=1,M,E;for(var O=0,T=r.length;O<T;++O){if(r.slice(O,O+a.length)===a){O+=a.length;M=r.substr(O,1);b="\nline = "+A+";";g=a;k=f;c=true;switch(M){case"!":O++;E=null;break;case"=":O++;f="="+f;E=d;break;case">":O++;E=m;break;case"#":O++;E=w;break;case"^":O++;E=y;break;case"/":O++;E=S;break;case"{":f="}"+f;case"&":O++;s=true;E=j;break;default:s=true;E=x}var $=r.indexOf(f,O);if($===-1){throw v(new Error('Tag "'+a+'" was not closed properly'),r,A,n.file)}var H=r.substring(O,$);if(E){E(H)}var L=0;while(~(L=H.indexOf("\n",L))){A++;L++}O=$+f.length-1;a=g;f=k}else{M=r.substr(O,1);switch(M){case'"':case"\\":s=true;l.push("\\"+M);break;case"\r":break;case"\n":i.push(l.length);l.push("\\n");p();A++;break;default:if(u(M)){i.push(l.length)}else{s=true}l.push(M)}}}if(h.length!=0){throw v(new Error('Section "'+h[h.length-1].name+'" was not closed properly'),r,A,n.file)}p();l.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var q=l.join("").replace(/buffer \+= "";\n/g,"");if(n.debug){if(typeof console!="undefined"&&console.log){console.log(q)}else if(typeof print==="function"){print(q)}}return q}function d(e,r){var n="view,partials,stack,lookup,escapeHTML,renderSection,render";var t=k(e,r);var a=new Function(n,t);return function(n,t){t=t||{};var f=[n];try{return a(n,t,f,b,h,g,S)}catch(n){throw v(n.error,e,n.line,r.file)}}}var m={};function w(){m={}}function y(e,r){r=r||{};if(r.cache!==false){if(!m[e]){m[e]=d(e,r)}return m[e]}return d(e,r)}function S(e,r,n){return y(e)(r,n)}})(Mustache);